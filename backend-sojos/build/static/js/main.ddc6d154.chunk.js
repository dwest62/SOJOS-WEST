(this["webpackJsonpfrontend-bloglist"]=this["webpackJsonpfrontend-bloglist"]||[]).push([[0],{290:function(e,t,n){},292:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(40),s=n.n(c),i=n.p+"static/media/sojosWestLogo.0f73e32f.png",u=n(1),o=function(){return Object(u.jsx)("div",{id:"header",children:Object(u.jsx)("img",{id:"logo",alt:"sojos west",src:i})})},l=n(14),d=n(314),j=r.a.forwardRef((function(e,t){var n=Object(a.useState)(!1),r=Object(l.a)(n,2),c=r[0],s=r[1],i={display:c?"none":""},o={display:c?"":"none"},j=function(){s(!c)};return Object(a.useImperativeHandle)(t,(function(){return{toggleVisibility:j}})),Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{style:i,children:Object(u.jsx)(d.a,{id:e.id,onClick:j,children:e.buttonLabel})}),Object(u.jsxs)("div",{style:o,className:"toggableContent",children:[e.children,Object(u.jsx)(d.a,{onClick:j,children:e.cancel})]})]})}));j.displayName="Toggable";var p,b=j,h=n(313),m=n(6),O=n(4),v=n.n(O),f=n(13),x=n(3),g=n(32),N=n.n(g),w="/api/gatherings",y=null,k=function(){var e=Object(f.a)(v.a.mark((function e(t){var n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:y}},e.next=3,N.a.post(w,t,n);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(f.a)(v.a.mark((function e(t,n){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.put("".concat(w,"/").concat(t),n);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),A=function(){var e=Object(f.a)(v.a.mark((function e(t,n){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.put("".concat(w,"/").concat(t,"/rsvp"),n);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),S={getAll:function(){return N.a.get(w).then((function(e){return e.data}))},create:k,setToken:function(e){return y="bearer ".concat(e)},update:T,deleteMeeting:function(){var e=Object(f.a)(v.a.mark((function e(t){var n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:y}},e.next=3,N.a.delete("".concat(w,"/").concat(t),n);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),comment:function(){var e=Object(f.a)(v.a.mark((function e(t,n){var a,r,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={comment:n},r=t.id,e.next=4,N.a.post("".concat(w,"/").concat(r,"/comments"),a);case 4:return c=e.sent,e.abrupt("return",c.data);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),rsvp:A,handleGuest:function(){var e=Object(f.a)(v.a.mark((function e(t,n){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.post("".concat(w,"/").concat(t,"/rsvp"),n);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},C={login:function(){var e=Object(f.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.post("/api/login",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:null,notification:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_USER":case"LOGIN":return{user:t.data,notification:null};case"LOGOUT":return{user:null,notification:null};case"SET_ERROR":return{user:null,notification:t.data};case"NULL_MESSAGE":return Object(x.a)(Object(x.a)({},e),{},{notification:null});default:return e}},R=n(150),G=n.n(R),D=function(){var e=Object(m.c)((function(e){return e.user})).notification;return null===e?null:Object(u.jsxs)("div",{className:"notif-wrap",children:[Object(u.jsx)("div",{children:Object(u.jsx)(G.a,{color:"error"})}),Object(u.jsx)("div",{className:"logNotif",children:e})]})},M=n(9),I=function(){var e=Object(m.b)(),t=Object(M.f)();return Object(u.jsx)("div",{children:Object(u.jsx)(h.a,{id:"loginForm",children:Object(u.jsx)(b,{id:"login-button",buttonLabel:"log in",cancel:"cancel",children:Object(u.jsxs)("form",{onSubmit:function(n){n.preventDefault();var a=n.target.username.value,r=n.target.password.value;e(function(e,t){return function(){var n=Object(f.a)(v.a.mark((function n(a){var r;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,C.login({username:e,password:t});case 3:r=n.sent,window.localStorage.setItem("loggedSojosappUser",JSON.stringify(r)),S.setToken(r.token),a({type:"LOGIN",data:r}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),a({type:"SET_ERROR",data:"invalid username and/or password"});case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()}(a,r)),n.target.password.value="",n.target.username.value="",t.push("/")},children:[Object(u.jsxs)("div",{className:"form-wrapper",children:[Object(u.jsxs)("div",{className:"input-wrapper",children:[Object(u.jsx)("img",{className:"input-icon",src:"https://img.icons8.com/plumpy/24/000000/user.png",alt:"username"}),Object(u.jsx)("input",{className:"input-box",name:"username",placeholder:"username"})]}),Object(u.jsxs)("div",{className:"input-wrapper",children:[Object(u.jsx)("img",{className:"input-icon",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAAB5ElEQVRoge2YTS8DQRjHf4ReNMWV4CQ9ipeLOoqESLx8pqqXI3HkM5A4FokPwcFJ+nYjoakbdZhnU1GjO2unO2p+yWSaTp//Pv/OszuzAx636LOgmQW2gBVgHJiQ78tABSgC58C9hWvHwgJwBTRDtktgPpFMNQwCx8A7KsFH4ATYQM3OkLQssAmcym+aEnMEDHQ96y+MAteopBpAHsiEiMsAO8ArrdkZsZRjRwZplVIFVVqmzAAPonEDpGLLzoBjSaAEjP1CZwz1IGgChzHkZcQCqr4bwGwMenOoMnuTz10jKKl8jJoF0SzGqPkjWVpPpzA3dliGgSfRnjYN7o9wwW3pz4CXCPE6nlELJagF1YgoRpalv4gQ24lAc8U0MIqRKelvI8R24k76SQvabdRRdZy2oJ0W7boF7TaCvZJT+lFKy0m8EdfwRlxDZyQFHAA12t/sAsK+CZo2nX4V2MNwq79vMdHftl0TI1UJWjQJskyO1syExvaiFxVtXj1/s/85vBHX8EZcwxtxjX9rZB11zlsG1hIYN0a3FSh/GislMN77WxQdOudrqH+tBKwmMG68mfW736TwRlzDG3ENb8Q1et5ITfpctxIJwZL0RudaeyR/oqhrBRMjKTETnDi60Cpi4tuz3w9rpRSAvLNn9wAAAABJRU5ErkJggg==",alt:"password"}),Object(u.jsx)("input",{className:"input-box",name:"password",type:"password",placeholder:"password"})]})]}),Object(u.jsx)(D,{}),Object(u.jsx)(d.a,{type:"submit",children:"login"})]})})})})},P=n(19),H=n(45),B=n(18),W=n.n(B),F=function(e){for(var t=[],n=e.rsvp.filter((function(e){return null!==e})),a=function(e){if(t.find((function(t){return t.family===n[e].lastName}))){var a={name:n[e].firstName,rsvp:n[e].rsvp},r={name:n[e].firstName,family:n[e].lastName,id:n[e].id};t=t.map((function(t){return t.family===n[e].lastName?t="guest"!==n[e].username?Object(x.a)(Object(x.a)({},t),{},{members:t.members.concat(a)}):Object(x.a)(Object(x.a)({},t),{},{guests:t.guests.concat(r)}):t}))}else{var c={family:n[e].lastName,members:[{name:n[e].firstName,rsvp:n[e].rsvp}],guests:[]};t=t.concat(c)}},r=0;r<n.length;r++)a(r);return t=t.sort((function(e,t){return e.members.length>t.members.length?-1:e.members.length<t.members.length?1:e.members.length===t.members.length?e.lastName>t.lastName?1:e.lastName<t.lastName?-1:0:0}))},L=function(e){return e?e.filter((function(e){return W()(e.date).week()===W()().week()})):null},U=function(e){var t=W()(e.postDate),n=W()(e.date),a=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric"}),r=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric"});return{postDate:a.format(t),postTime:new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"numeric"}).format(t),date:r.format(n)}},V=function(e){var t=e.gathering,n=Object(a.useState)((function(){return P.EditorState.createWithContent(Object(P.convertFromRaw)(JSON.parse(t.content)))})),r=Object(l.a)(n,2),c=r[0],s=r[1],i=U(t);return t?Object(u.jsxs)("div",{className:"gatheringContent",id:"archivedContent",children:[Object(u.jsx)("div",{className:"gatheringParagraph",id:"archTitle",children:Object(u.jsxs)("strong",{children:["Gathering for ",i.date]})}),Object(u.jsxs)(b,{id:"arch-btn",buttonLabel:"show",cancel:"hide",children:[Object(u.jsxs)("div",{className:"gatheringParagraph",children:[Object(u.jsxs)("p",{children:[Object(u.jsx)("strong",{children:"Time:"})," "," ",W()(t.startTime,"HH:mm").format("hh:mm a")," - "," ",W()(t.endTime,"HH:mm").format("hh:mm a")]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("strong",{children:"Location:"})," ",Object(u.jsxs)("p",{children:[t.location.street,", ",t.location.city," ",t.location.state," ",t.location.postal]})]}),Object(u.jsx)("strong",{children:"Details for the Evening"}),Object(u.jsx)(H.Editor,{editorState:c,onEditorStateChange:s,readOnly:!0,toolbarHidden:!0})]}),Object(u.jsxs)("div",{className:"postInfo",children:["posted on ",i.postDate," at ",i.postTime," by ",t.user.firstName," ",t.user.lastName]})]})]}):null},J=n(37),Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEW_GATHERING":return[].concat(Object(J.a)(e),[t.data]);case"INIT_GATHERINGS":return t.data;case"DELETE_GATHERING":var n=e.filter((function(e){return e.id!==t.data.id}));return n;case"UPDATE_GATHERING":var a=t.data.id;return e.map((function(e){return e.id!==a?e:t.data}));case"ADD_COMMENT":var r=t.data.response.id,c=e.find((function(e){return e.id===r}));return c.comments=c.comments.concat(t.data.comment),e.map((function(e){return e.id!==r?e:c}));case"RSVP":var s=t.data.response.id,i=e.find((function(e){return e.id===s}));return i.rsvp=t.data.response.rsvp,e.map((function(e){return e.id!==s?e:i}));case"ADD_GUEST":var u=t.data.id,o=e.find((function(e){return e.id===u}));return o.rsvp=t.data.rsvp,e.map((function(e){return e.id!==u?e:o}));case"REMOVE_GUEST":var l=t.data.id,d=e.find((function(e){return e.id===l}));return d.rsvp=t.data.rsvp,e.map((function(e){return e.id!==l?e:d}));default:return e}},_=function(){return N.a.get("api/users").then((function(e){return e.data}))},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_USERS":return t.data;default:return e}},Q=(n(144),function(){var e=Object(M.f)(),t=Object(m.b)(),n=Object(a.useState)((function(){return P.EditorState.createEmpty()})),r=Object(l.a)(n,2),c=r[0],s=r[1],i=Object(a.useState)({street:"",city:"",state:"",postal:""}),o=Object(l.a)(i,2),j=o[0],p=o[1];Object(a.useEffect)((function(){console.log(c)}),[c]);var b=Object(m.c)((function(e){return e.user})).user,h=W()().weekday(6).format("YYYY-MM-DD");return Object(u.jsx)("div",{children:Object(u.jsx)("div",{children:Object(u.jsx)("form",{onSubmit:function(n){n.preventDefault();var a=W()(n.target.date.value),r=n.target.startTime.value,s=n.target.endTime.value,i={street:n.target.street.value,city:n.target.city.value,state:n.target.state.value,postal:n.target.postal.value},u=JSON.stringify(Object(P.convertToRaw)(c.getCurrentContent())),o={postDate:W()(new Date),date:a,startTime:r,endTime:s,location:i,content:u};t(function(e,t){return function(){var n=Object(f.a)(v.a.mark((function n(a){var r,c;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,S.create(e);case 2:r=n.sent,c=Object(x.a)(Object(x.a)({},r),{},{user:{id:r.user,firstName:t.firstName,lastName:t.lastName,username:t.username}}),a({type:"NEW_GATHERING",data:c});case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(o,b)),e.push("/")},className:"newGath",children:Object(u.jsxs)("div",{className:"newGathWrapper",children:[Object(u.jsx)("h1",{className:"newGatheringTitle",children:"Post Gathering"}),"When:",Object(u.jsxs)("div",{className:"newGathInputs",children:[Object(u.jsx)("div",{className:"input-wrapper2",children:Object(u.jsx)("input",{className:"input-box2",name:"date",placeholder:"date",type:"date",defaultValue:h})}),Object(u.jsxs)("div",{className:"timewrap",children:[Object(u.jsx)("div",{className:"input-wrapper2",children:Object(u.jsx)("input",{className:"input-box3",name:"startTime",type:"time",placeholder:"start time",defaultValue:"16:30"})}),Object(u.jsx)("div",{className:"input-wrapper2",children:Object(u.jsx)("input",{className:"input-box3",name:"endTime",type:"time",placeholder:"start time",defaultValue:"18:30"})})]})]}),"Where:",Object(u.jsxs)("div",{className:"newGathInputs",children:[Object(u.jsx)("div",{className:"input-wrapper2",id:"addr-sel-wrapper",children:Object(u.jsxs)("select",{className:"addr-sel",onChange:function(e){switch(e.preventDefault(),p(),e.target.value){case"RiverPark":return p({street:"230 83rd Ave N",city:"Brooklyn Park",state:"MN",postal:"55443"});case"OrchardTrailPark":return p({street:"10601 Oxbow Creek Drive N",city:"Brooklyn Park",state:"MN",postal:"55443"});case"BeaconOfHope":return p({street:"2827 N Newton Ave",city:"Minneapolis",state:"MN",postal:"55411"});case"Wanggaard":return p({street:"1921 Elliot Ave",city:"Minneapolis",state:"MN",postal:"55404"});case"Gonsalves":return p({street:"9135 Hyland Creek Road",city:"Bloomington",state:"MN",postal:"55437"});case"Mathsen":return p({street:"10336 Yates Drive N",city:"Brooklyn Park",state:"MN",postal:"55443"});case"Fischer":return p({street:"8656 Riverview Lane N",city:"Brooklyn Park",state:"MN",postal:"55444"});case"Callaghan":return p({street:"7940 Sunkist Blvd",city:"Brooklyn Park",state:"MN",postal:"55444"});default:return p({street:"",city:"",state:"",postal:""})}},children:[Object(u.jsx)("option",{value:"None",children:"(None)"}),Object(u.jsx)("option",{value:"RiverPark",children:"River Park"}),Object(u.jsx)("option",{value:"OrchardTrailPark",children:"Orchard Trail Park"}),Object(u.jsx)("option",{value:"BeaconOfHope",children:"Beacon of Hope"}),Object(u.jsx)("option",{value:"Wanggaard",children:"Wanggaard's"}),Object(u.jsx)("option",{value:"Gonsalves",children:"Gonsalves'"}),Object(u.jsx)("option",{value:"Mathsen",children:"Mathsen's"}),Object(u.jsx)("option",{value:"Fischer",children:"Fischer's"}),Object(u.jsx)("option",{value:"Callaghan",children:"Callaghan's"})]})}),Object(u.jsx)("div",{className:"input-wrapper2",children:Object(u.jsx)("input",{className:"input-box2",name:"street",placeholder:"2827 N Newton Ave",value:j.street,onChange:function(e){return p(Object(x.a)(Object(x.a)({},j),{},{street:e.target.value}))}})}),Object(u.jsx)("div",{className:"input-wrapper2",children:Object(u.jsx)("input",{className:"input-box2",name:"city",placeholder:"Minneapolis",value:j.city,onChange:function(e){return p(Object(x.a)(Object(x.a)({},j),{},{city:e.target.value}))}})}),Object(u.jsx)("div",{className:"input-wrapper2",children:Object(u.jsx)("input",{className:"input-box2",name:"state",placeholder:"MN",value:j.state,onChange:function(e){return p(Object(x.a)(Object(x.a)({},j),{},{state:e.target.value}))}})}),Object(u.jsx)("div",{className:"input-wrapper2",children:Object(u.jsx)("input",{className:"input-box2",name:"postal",placeholder:"55411",value:j.postal,onChange:function(e){return p(Object(x.a)(Object(x.a)({},j),{},{postal:e.target.value}))}})})]}),"Details:",Object(u.jsx)("div",{style:{border:"1px solid black",padding:"2px",minHeight:"300px",marginTop:"20px"},children:Object(u.jsx)(H.Editor,{toolbar:{options:["inline","blockType","fontSize","fontFamily","list","textAlign","colorPicker","embedded","emoji","remove","history"],inline:{inDropdown:!0},list:{inDropdown:!0},textAlign:{inDropdown:!0},link:{inDropdown:!0},history:{inDropdown:!0}},editorState:c,onEditorStateChange:s})}),Object(u.jsxs)("div",{children:[Object(u.jsx)(d.a,{type:"submit",children:"submit"}),Object(u.jsx)(d.a,{onClick:function(){return e.push("/")},children:" cancel"})]})]})})})})}),Z=(n(288),function(e){var t=e.gathering,n=Object(M.f)(),r=Object(a.useState)((function(){return P.EditorState.createWithContent(Object(P.convertFromRaw)(JSON.parse(t.content)))})),c=Object(l.a)(r,2),s=c[0],i=c[1],o=Object(a.useState)({street:t.location.street,city:t.location.city,state:t.location.state,postal:t.location.postal}),j=Object(l.a)(o,2),p=j[0],b=j[1];Object(a.useEffect)((function(){console.log(s)}),[s]);var h=Object(m.b)(),O=W()(t.date).format("YYYY-MM-DD");return Object(u.jsx)("div",{children:Object(u.jsx)("div",{children:Object(u.jsx)("form",{className:"newGath",onSubmit:function(e){e.preventDefault();var a,r,c=W()(e.target.date.value),i=e.target.startTime.value,u=e.target.endTime.value,o={street:e.target.street.value,city:e.target.city.value,state:e.target.state.value,postal:e.target.postal.value},l=JSON.stringify(Object(P.convertToRaw)(s.getCurrentContent())),d={rsvp:t.rsvp,user:t.user,date:c,startTime:i,endTime:u,location:o,content:l};h((a=t.id,r=d,function(){var e=Object(f.a)(v.a.mark((function e(t){var n,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.update(a,r);case 2:n=e.sent,c=Object(x.a)(Object(x.a)({},n),{},{user:r.user}),t({type:"UPDATE_GATHERING",data:c});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),n.push("/")},children:Object(u.jsxs)("div",{className:"newGathWrapper",children:[Object(u.jsx)("h1",{className:"newGatheringTitle",children:"Edit Gathering"}),"When:",Object(u.jsxs)("div",{className:"newGathInputs",children:[Object(u.jsx)("div",{className:"input-wrapper2",children:Object(u.jsx)("input",{className:"input-box2",name:"date",type:"date",defaultValue:O,readOnly:!1})}),Object(u.jsxs)("div",{className:"timewrap",children:[Object(u.jsx)("div",{className:"input-wrapper2",children:Object(u.jsx)("input",{className:"input-box3",name:"startTime",type:"time",defaultValue:t.startTime,placeholder:"start time"})}),Object(u.jsx)("div",{className:"input-wrapper2",children:Object(u.jsx)("input",{className:"input-box3",name:"endTime",type:"time",defaultValue:t.endTime})})]})]}),"Where:",Object(u.jsxs)("div",{className:"newGathInputs",children:[Object(u.jsx)("div",{className:"input-wrapper2",id:"addr-sel-wrapper",children:Object(u.jsxs)("select",{className:"addr-sel",onChange:function(e){switch(e.preventDefault(),b(),e.target.value){case"RiverPark":return b({street:"230 83rd Ave N",city:"Brooklyn Park",state:"MN",postal:"55443"});case"OrchardTrailPark":return b({street:"10601 Oxbow Creek Drive N",city:"Brooklyn Park",state:"MN",postal:"55443"});case"BeaconOfHope":return b({street:"2827 N Newton Ave",city:"Minneapolis",state:"MN",postal:"55411"});case"Wanggaard":return b({street:"1921 Elliot Ave",city:"Minneapolis",state:"MN",postal:"55404"});case"Gonsalves":return b({street:"9135 Hyland Creek Road Bloomington",city:"Bloomington",state:"MN",postal:"55437"});case"Mathsen":return b({street:"10336 Yates Drive N",city:"Brooklyn Park",state:"MN",postal:"55443"});case"Fischer":return b({street:"8656 Riverview Lane N",city:"Brooklyn Park",state:"MN",postal:"55444"});case"Callaghan":return b({street:"7940 Sunkist Blvd",city:"Brooklyn Park",state:"MN",postal:"55444"});default:return b({street:"",city:"",state:"",postal:""})}},defaultValue:function(e){switch(e){case"230 83rd Ave N":return"RiverPark";case"10601 Oxbow Creek Drive N":return"OrchardTrailPark";case"2827 N Newton Ave":return"BeaconOfHope";case"1921 Elliot Ave":return"Wanggaard";case"9135 Hyland Creek Road":return"Gonsalves";case"10336 Yates Drive N":return"Mathsen";case"7940 Sunkist Blvd":return"Callaghan";case"8656 Riverview Lane N":return"Fischer";default:return"None"}}(t.location.street),children:[Object(u.jsx)("option",{value:"None",children:"(None)"}),Object(u.jsx)("option",{value:"RiverPark",children:"River Park"}),Object(u.jsx)("option",{value:"OrchardTrailPark",children:"Orchard Trail Park"}),Object(u.jsx)("option",{value:"BeaconOfHope",children:"Beacon of Hope"}),Object(u.jsx)("option",{value:"Wanggaard",children:"Wanggaard's"}),Object(u.jsx)("option",{value:"Gonsalves",children:"Gonsalves'"}),Object(u.jsx)("option",{value:"Mathsen",children:"Mathsen's"}),Object(u.jsx)("option",{value:"Fischer",children:"Fischer's"}),Object(u.jsx)("option",{value:"Callaghan",children:"Callaghan's"})]})}),Object(u.jsx)("div",{className:"input-wrapper2",children:Object(u.jsx)("input",{className:"input-box2",name:"street",placeholder:"2827 N Newton Ave",value:p.street,onChange:function(e){return b(Object(x.a)(Object(x.a)({},p),{},{street:e.target.value}))}})}),Object(u.jsx)("div",{className:"input-wrapper2",children:Object(u.jsx)("input",{className:"input-box2",name:"city",placeholder:"Minneapolis",value:p.city,onChange:function(e){return b(Object(x.a)(Object(x.a)({},p),{},{city:e.target.value}))}})}),Object(u.jsx)("div",{className:"input-wrapper2",children:Object(u.jsx)("input",{className:"input-box2",name:"state",placeholder:"MN",value:p.state,onChange:function(e){return b(Object(x.a)(Object(x.a)({},p),{},{state:e.target.value}))}})}),Object(u.jsx)("div",{className:"input-wrapper2",children:Object(u.jsx)("input",{className:"input-box2",name:"postal",placeholder:"55411",value:p.postal,onChange:function(e){return b(Object(x.a)(Object(x.a)({},p),{},{postal:e.target.value}))}})})]}),"Details:",Object(u.jsx)("div",{style:{border:"1px solid black",padding:"2px",minHeight:"300px",marginTop:"20px"},children:Object(u.jsx)(H.Editor,{toolbar:{options:["inline","blockType","fontSize","fontFamily","list","textAlign","colorPicker","embedded","emoji","remove","history"],inline:{inDropdown:!0},list:{inDropdown:!0},textAlign:{inDropdown:!0},link:{inDropdown:!0},history:{inDropdown:!0}},editorState:s,onEditorStateChange:i})}),Object(u.jsxs)("div",{children:[Object(u.jsx)(d.a,{type:"submit",children:"submit"}),Object(u.jsx)(d.a,{onClick:function(){return n.push("/")},children:"cancel"})]})]})})})})}),q=function(){var e=Object(M.f)(),t=Object(m.b)();return Object(u.jsxs)("div",{className:"nav-top",children:[Object(u.jsx)(d.a,{id:"homebtn",onClick:function(){return e.push("/")},children:"Home"}),Object(u.jsx)(d.a,{id:"archbtn",onClick:function(){return e.push("/archived-gatherings")},children:"Archive"}),Object(u.jsx)(d.a,{id:"btnId",onClick:function(){return t(function(){var e=Object(f.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.localStorage.setItem("loggedSojosappUser",null);case 2:t({type:"LOGOUT"});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:"Logout"})]})},K=function(){return Object(m.c)((function(e){return e.gatherings})).map((function(e){return Object(u.jsx)(V,{gathering:e},e.id)}))},X=n(79),$=n.n(X),ee=n(78),te=n.n(ee),ne=function(e){var t=e.gathering,n=Object(m.c)((function(e){return e.user})).user,a=Object(m.b)(),r=function(e,t){switch(e){case"true":return Object(u.jsxs)("div",{className:"rsvpContentWrapperUp",children:[Object(u.jsx)("div",{className:"rsvpContentText",children:t}),Object(u.jsx)("div",{children:Object(u.jsx)(te.a,{id:"thumbup"})})]});case"false":return Object(u.jsxs)("div",{className:"rsvpContentWrapperDown",children:[Object(u.jsx)("div",{className:"rsvpContentText",children:t}),Object(u.jsx)("div",{children:Object(u.jsx)($.a,{id:"thumbdown"})})]});case"undecided":return Object(u.jsxs)("div",{className:"rsvpContentWrapperNeutral",children:[Object(u.jsx)("div",{className:"rsvpContentText",children:t}),Object(u.jsx)("div",{id:"thumbneutral",children:"?"})]});default:return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"rsvpContentText",children:t}),Object(u.jsx)("div",{id:"thumbneutral",children:"?"})]})}},c=function(e,n){a(function(e,t,n){return function(){var a=Object(f.a)(v.a.mark((function a(r){var c,s;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=Object(x.a)(Object(x.a)({},n),{},{rsvp:n.rsvp.map((function(n){return"guest"===n.username&&n.lastName===t&&n.id===e?n=null:n})).filter((function(e){return null!==e}))}),a.next=3,S.handleGuest(n.id,c);case 3:s=a.sent,r({type:"REMOVE_GUEST",data:s});case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(e,n,t))};return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"rsvpHead",children:Object(u.jsx)("h3",{children:"RSVP List"})}),Object(u.jsx)("div",{className:"rsvpMain",children:F(t).map((function(e){return Object(u.jsx)("div",{className:"rsvpWrapper",children:Object(u.jsxs)("div",{className:"rsvpBox",children:[Object(u.jsx)("div",{className:"rsvpFamilyName",children:e.family}),e.members.map((function(e){return Object(u.jsx)("div",{children:r(e.rsvp,e.name)},e.name)})),e.guests.length>0?Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"guests",children:Object(u.jsx)("strong",{children:"Guests:"})}),e.guests.map((function(e){return Object(u.jsxs)("div",{className:"guestnames",children:[e.name,n.lastName===e.family?Object(u.jsx)(d.a,{onClick:function(){return c(e.id,e.family)},children:"remove"}):null]},e.id)}))]}):null]})},e.family)}))})]})},ae=n(152),re=n.n(ae),ce=function(e,t){return function(){var n=Object(f.a)(v.a.mark((function n(a){return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a({type:"NOTIFICATION",data:{content:e}}),clearTimeout(p),p=setTimeout((function(){a({type:"TIMEOUT"})}),1e3*t);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NOTIFICATION":return t.data.content;case"TIMEOUT":return null;default:return e}},ie=function(e){var t=e.data,n=e.gathering,r=Object(a.useState)({up:!1,down:!1,neutral:!1}),c=Object(l.a)(r,2),s=c[0],i=c[1],o=Object(m.b)(),d=Object(m.c)((function(e){return e.users}));Object(a.useEffect)((function(){var e=n.rsvp.find((function(e){return e.username===t.username})),a={up:!1,down:!1,neutral:!1};if(!e)return i(Object(x.a)({},a));switch(e.rsvp){case"true":return i(Object(x.a)(Object(x.a)({},a),{},{up:!0}));case"false":return i(Object(x.a)(Object(x.a)({},a),{},{down:!0}));default:return i(Object(x.a)(Object(x.a)({},a),{},{neutral:!0}))}}),[n,t.username]);var j=function(e){var t=n.rsvp.find((function(t){return t.username===e}));if(t)switch(t.rsvp){case"true":return"true";case"false":return"false";default:return"undecided"}};return Object(u.jsxs)("div",{id:"rsvp-content",onChange:function(e){var t=e.target.name,a=d.find((function(e){return e.username===t})),r=e.target.value;o(function(e,t,n){return function(){var a=Object(f.a)(v.a.mark((function a(r){var c,s;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=Object(x.a)(Object(x.a)({},e),{},{rsvp:{username:n.username,lastName:n.lastName,firstName:n.firstName,rsvp:t}}),a.next=3,S.rsvp(e.id,c);case 3:s=a.sent,r({type:"RSVP",data:{response:s}});case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(n,r,a));var c={up:!1,down:!1,neutral:!1},s=e.target.getAttribute("data-firstname");switch(e.target.value){case"undecided":i(Object(x.a)(Object(x.a)({},c),{},{neutral:!0})),o(ce("RSVP status for ".concat(s," updated to undecided."),5));break;case"false":i(Object(x.a)(Object(x.a)({},c),{},{down:!0})),o(ce("RSVP status for ".concat(s," updated to no."),5));break;case"true":i(Object(x.a)(Object(x.a)({},c),{},{up:!0})),o(ce("RSVP status for ".concat(s," updated to yes."),5));break;default:return null}},children:[Object(u.jsxs)("div",{id:"rsvp-name",children:[t.firstName,":"]}),Object(u.jsxs)("label",{className:"thumbslabel",children:[Object(u.jsx)(te.a,{id:"thumbIconUp",check:s.up.toString()}),Object(u.jsx)("input",{className:"rsvpRadio",id:"thumbsUp",type:"radio",defaultChecked:"true"===j(t.username),name:t.username,"data-firstname":t.firstName,value:"true"})]}),Object(u.jsxs)("label",{className:"thumbslabel",children:[Object(u.jsx)("div",{id:"thumbIconNeutral",check:s.neutral.toString(),children:Object(u.jsx)("div",{id:"question",children:"?"})}),Object(u.jsx)("input",{className:"rsvpRadio",type:"radio",defaultChecked:"undecided"===j(t.username),name:t.username,"data-firstname":t.firstName,value:"undecided"})]}),Object(u.jsxs)("label",{className:"thumbslabel",children:[Object(u.jsx)($.a,{id:"thumbIconDown",check:s.down.toString()}),Object(u.jsx)("input",{className:"rsvpRadio",id:"thumbsDown",type:"radio",defaultChecked:"false"===j(t.username),name:t.username,"data-firstname":t.firstName,value:"false"})]})]})},ue=function(e){var t=e.gathering,n=Object(m.b)(),a=Object(m.c)((function(e){return e.users})),r=Object(m.c)((function(e){return e.user})).user,c=Object(m.c)((function(e){return e.notification})),s=a.filter((function(e){return e.lastName===r.lastName}));return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:Object(u.jsx)("strong",{children:"Please RSVP:"})}),Object(u.jsx)("div",{id:"notification",children:c}),Object(u.jsx)("div",{id:"rsvp",children:s.map((function(e){return Object(u.jsx)(ie,{data:e,gathering:t},e.username)}))}),Object(u.jsx)(b,{id:"addGuestBtn",buttonLabel:"add guest",cancel:"cancel",children:Object(u.jsxs)("div",{children:[Object(u.jsx)("strong",{children:"Add Guest:"}),Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault();var a=e.target.guest.value,c=e.target.kid.checked;e.target.guest.value="",e.target.kid.checked=!1;var s={username:"guest",lastName:r.lastName,firstName:a,kid:c};n(function(e,t){return function(){var n=Object(f.a)(v.a.mark((function n(a){var r,c,s;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=Math.floor(1e5*Math.random()),c=Object(x.a)(Object(x.a)({},e),{},{rsvp:e.rsvp.concat({username:"guest",lastName:t.lastName,firstName:t.firstName,rsvp:"true",kid:t.kid,id:r.toString()})}),n.next=4,S.handleGuest(e.id,c);case 4:s=n.sent,a({type:"ADD_GUEST",data:s});case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,s))},id:"addGuest",children:["name:"," ",Object(u.jsx)("div",{className:"input-wrapper3",children:Object(u.jsx)("input",{className:"input-box2",name:"guest",placeholder:"guest name"})}),Object(u.jsxs)("div",{children:[Object(u.jsx)("input",{name:"kid",type:"checkbox"})," ","kid"]}),Object(u.jsx)(d.a,{type:"submit",children:"add guest"})]})]})})]})},oe=function(){var e=Object(M.f)(),t=Object(m.c)((function(e){return e.gatherings})),n=Object(m.c)((function(e){return e.users})),r=Object(a.useState)(L(t)[0]),c=Object(l.a)(r,2),s=c[0],i=c[1];Object(a.useEffect)((function(){i(L(t)[0])}),[t]);var o=Object(a.useState)((function(){return P.EditorState.createWithContent(Object(P.convertFromRaw)(JSON.parse(s.content)))})),d=Object(l.a)(o,2),j=d[0],p=d[1];Object(a.useEffect)((function(){p((function(){return P.EditorState.createWithContent(Object(P.convertFromRaw)(JSON.parse(s.content)))}))}),[s]);var h=U(s),O=s.rsvp.filter((function(e){return"true"===e.rsvp})).map((function(e){return e.username})),v=n.filter((function(e){return!0===e.kid&&O.includes(e.username)})).length+s.rsvp.filter((function(e){return"guest"===e.username&&!0===e.kid})).length,f=n.filter((function(e){return!1===e.kid&&O.includes(e.username)})).length+s.rsvp.filter((function(e){return"guest"===e.username&&!1===e.kid})).length;return Object(u.jsxs)("div",{className:"gatheringContent",children:[Object(u.jsxs)("h2",{className:"gatheringTitle",children:[Object(u.jsx)("div",{className:"hcgath",children:"House Church GathEring"}),Object(u.jsx)("div",{className:"editicon",children:Object(u.jsx)(re.a,{id:"editicon",onClick:function(){return e.push("/update-gatherings/".concat(s.id))}})})]}),Object(u.jsxs)("div",{className:"gatheringParagraph",children:[Object(u.jsxs)("p",{children:[Object(u.jsx)("strong",{children:"Date:"})," ",h.date]}),Object(u.jsxs)("p",{children:[Object(u.jsx)("strong",{children:"Time:"})," "," ",W()(s.startTime,"HH:mm").format("hh:mm a")," - "," ",W()(s.endTime,"HH:mm").format("hh:mm a")]}),Object(u.jsxs)("div",{id:"location",children:[Object(u.jsx)("strong",{children:"Location:"})," "," ",function(e){switch(e){case"230 83rd Ave N":return"River Park";case"10601 Oxbow Creek Drive N":return"Orchard Trail Park";case"2827 N Newton Ave":return"Beacon of Hope";case"1921 Elliot Ave":return"Wanggaard's";case"9135 Hyland Creek Road":return"Gonsalves'";case"10336 Yates Drive N":return"Mathsen's";case"7940 Sunkist Blvd":return"Callaghan's";case"8656 Riverview Lane N":return"Fischer's";default:return"None"}}(s.location.street),Object(u.jsxs)("div",{id:"locationdata",className:"para",children:[s.location.street,Object(u.jsx)("div",{children:"".concat(s.location.city," ").concat(s.location.state," ").concat(s.location.postal)})]})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)(ue,{gathering:s}),Object(u.jsxs)("p",{children:["Attending: ",f," adults ",v," kids"]}),Object(u.jsx)("strong",{children:"Details for the evening:"})]}),Object(u.jsx)(H.Editor,{editorState:j,onEditorStateChange:p,readOnly:!0,toolbarHidden:!0}),Object(u.jsx)("p",{}),Object(u.jsx)(b,{id:"rsvp-btn",buttonLabel:"Who's in?",cancel:"hide",children:Object(u.jsx)(ne,{gathering:s})}),Object(u.jsxs)("div",{className:"postInfo",children:["posted on ",h.postDate," at ",h.postTime," by ",s.user.firstName," ",s.user.lastName]})]})]})},le=function(){var e=Object(M.f)();return Object(u.jsxs)("div",{className:"gatheringContent",children:[Object(u.jsx)("h2",{className:"gatheringTitle",children:Object(u.jsx)("div",{className:"hcgath2",children:"House Church Gathering"})}),Object(u.jsx)(d.a,{id:"post-btn",onClick:function(){return e.push("/new-gathering")},children:"Post Gathering"}),Object(u.jsx)("p",{className:"gatheringParagraph2",children:"Awaiting post from core... Stay tuned."})]})},de=function(){var e=Object(m.b)();Object(a.useEffect)((function(){e(function(){var e=window.localStorage.getItem("loggedSojosappUser");return function(){var t=Object(f.a)(v.a.mark((function t(n){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(a=JSON.parse(e))&&S.setToken(a.token),n({type:"INIT_USER",data:a});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}())}),[e]),Object(a.useEffect)((function(){e(function(){var e=Object(f.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.getAll();case 2:n=e.sent,t({type:"INIT_GATHERINGS",data:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]),Object(a.useEffect)((function(){e(function(){var e=Object(f.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_();case 2:n=e.sent,t({type:"INIT_USERS",data:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]);var t=Object(m.c)((function(e){return e.user})),n=Object(m.c)((function(e){return e.gatherings})),r=Object(m.c)((function(e){return e.users})),c=Object(M.g)("/update-gatherings/:id"),s=Object(M.g)("/gathering/:id"),i=L(n);if(t.user){if(n&&r){var l=c?n.find((function(e){return e.id===c.params.id})):null,d=s?n.find((function(e){return e.id===s.params.id})):null;return Object(u.jsxs)("div",{children:[Object(u.jsx)(q,{}),Object(u.jsxs)(M.c,{children:[Object(u.jsx)(M.a,{path:"/new-gathering",children:Object(u.jsx)(Q,{})}),Object(u.jsx)(M.a,{path:"/update-gatherings/:id",children:Object(u.jsx)(Z,{gathering:l})}),Object(u.jsx)(M.a,{path:"/archived-gatherings",children:Object(u.jsx)(K,{})}),Object(u.jsx)(M.a,{path:"/gathering/:id",children:Object(u.jsx)(V,{gathering:d})}),Object(u.jsx)(M.a,{path:"/",children:Object(u.jsx)("div",{className:"gatheringMain",children:i[0]?Object(u.jsx)(oe,{}):Object(u.jsx)(le,{})})})]})]})}return null}return Object(u.jsxs)("div",{children:[Object(u.jsx)(o,{}),Object(u.jsx)(I,{})]})},je=(n(290),n(62)),pe=n(153),be=n(154),he=Object(je.combineReducers)({user:E,users:z,gatherings:Y,notification:se}),me=Object(je.createStore)(he,Object(be.composeWithDevTools)(Object(je.applyMiddleware)(pe.a))),Oe=n(50);n.p;s.a.render(Object(u.jsx)(m.a,{store:me,children:Object(u.jsx)(Oe.a,{children:Object(u.jsx)(de,{})})}),document.getElementById("root"))}},[[292,1,2]]]);
//# sourceMappingURL=main.ddc6d154.chunk.js.map